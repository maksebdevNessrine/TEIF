# Database - PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Example: postgresql://postgres:password@localhost:5432/teif_dev
DATABASE_URL="postgresql://user:password@host:port/database?schema=public"

# Supabase (for cloud database hosting)
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_ANON_KEY="your-anon-key"

# Supabase Storage (for PDF caching)
# Get SUPABASE_SERVICE_ROLE_KEY from your Supabase project settings
# This key has full access to storage (use in backend only, never expose to client)
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"
SUPABASE_STORAGE_BUCKET="invoice-pdfs"

# JWT Authentication
# JWT_SECRET: Strong random string (min 32 characters) used to sign access tokens
# Change this in production to a strong random value
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-change-in-production"

# JWT_REFRESH_SECRET: Strong random string (min 32 characters) used to sign refresh tokens
# Change this in production to a strong random value
JWT_REFRESH_SECRET="your-super-secret-refresh-key-minimum-32-characters-change-in-production"

# JWT_EXPIRES_IN: Token expiry duration (e.g., '7d', '24h', '1w')
JWT_EXPIRES_IN="7d"

# Server Configuration
# PORT: Server listening port (default 3000)
PORT=3000

# NODE_ENV: Environment (development, production, test)
NODE_ENV="development"

# CORS Configuration
# FRONTEND_URL: Frontend domain for CORS headers
FRONTEND_URL="http://localhost:5173"

# Digital Signature Configuration (Tunisia TradeNet)
# SIGNATURE_ENCRYPTION_KEY: 32-byte hex key for AES-256-GCM encryption of certificates at rest
# Generate with: openssl rand -hex 32
# Or PowerShell: [BitConverter]::ToString((1..32 | ForEach-Object { [byte](Get-Random -Maximum 256) })) -replace '-'
# NEVER commit actual key to repo; use secure key management in production (Vault, AWS Secrets Manager, etc.)
SIGNATURE_ENCRYPTION_KEY="0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"

# Signature Security Settings
# SIGNATURE_REQUIRE_HTTPS: Enforce HTTPS for all signature endpoints in production
# Set to "true" in production; "false" only for local development
SIGNATURE_REQUIRE_HTTPS="false"

# SIGNATURE_MAX_CERTIFICATE_SIZE: Maximum PKCS#12 file size in bytes (default: 10MB)
SIGNATURE_MAX_CERTIFICATE_SIZE=10485760

# Audit Logging
# AUDIT_LOG_RETENTION_DAYS: Keep signature audit logs for N days (compliance requirement, default: 90)
AUDIT_LOG_RETENTION_DAYS=90

