# TEIF Production Environment Variables Template
# IMPORTANT: This is an EXAMPLE. Copy values and replace with your actual production secrets.
# DO NOT commit this file with real secrets to Git!

############################################
# BACKEND ENVIRONMENT VARIABLES
############################################

# Database Configuration
# Format: postgresql://username:password@host:port/database
# Example: postgresql://postgres:secure-pass@teif-postgres:5432/teif_prod
DATABASE_URL="postgresql://postgres:CHANGE_ME_STRONG_PASSWORD@teif-postgres:5432/teif_prod"

# Server Configuration
PORT=3000
NODE_ENV=production

# JWT Configuration
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=CHANGE_ME_32_CHARACTER_RANDOM_SECRET_HERE
JWT_EXPIRY=3600

# Application URLs
# SITE_URL is used for email verification links, password resets, etc.
SITE_URL=https://yourdomain.com
CORS_ORIGIN=https://yourdomain.com

# Email (SMTP) Configuration - Choose your provider below

# Option 1: Gmail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=CHANGE_ME_GMAIL_APP_PASSWORD
SMTP_FROM=noreply@yourdomain.com

# Option 2: SendGrid (uncomment to use)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=CHANGE_ME_SENDGRID_API_KEY
# SMTP_FROM=noreply@yourdomain.com

# Option 3: AWS SES (uncomment to use)
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=CHANGE_ME_SES_USERNAME
# SMTP_PASSWORD=CHANGE_ME_SES_PASSWORD
# SMTP_FROM=verified-email@yourdomain.com

# Optional: AI Features
GEMINI_API_KEY=CHANGE_ME_GEMINI_API_KEY_IF_USING_AI_FEATURES

############################################
# FRONTEND ENVIRONMENT VARIABLES
############################################

# API Configuration - Must point to your backend
# Examples:
#   https://yourdomain.com/api (if backend is on same domain)
#   https://api.yourdomain.com/api (if backend is on subdomain)
VITE_API_BASE_URL=https://yourdomain.com/api

# Optional: AI Features (same as backend if you use it)
# OGUJIGUFUGGFUDUFDFUFYUDIDIUIFUISOUUSUDSYFFDU78FR77RF87R877R88F7UFDUIOF90S898F8UGURUGEMINI_API_KEY=CHANGE_ME_GEMINI_API_KEY_IF_USING_AI_FEATURES

############################################
# COOLIFY-SPECIFIC NOTES
############################################

# When using Coolify:
# 1. DO NOT use this file directly in production
# 2. Add each variable through Coolify's UI: Service → Environment Variables
# 3. Secrets are automatically encrypted by Coolify
# 4. You can export this format and paste variables in bulk

# To use in Coolify:
# - Copy each KEY=VALUE pair
# - Go to Service → Environment Variables
# - Click "Add Variable"
# - Paste key and value
# - Click Save
# - Redeploy service

############################################
# SECURITY REMINDERS
############################################

# ✅ DO:
# - Use strong, unique passwords (20+ characters)
# - Generate JWT_SECRET with crypto.randomBytes()
# - Use environment-specific values for dev/staging/prod
# - Change CHANGE_ME_* placeholders with real values
# - Use HTTPS for all URLs (https://, not http://)

# ❌ DON'T:
# - Commit this file with real secrets to Git
# - Share secrets via email or chat
# - Use simple passwords like "password123"
# - Reuse secrets across environments
# - Log or print secrets anywhere

############################################
# SECRET GENERATION COMMANDS
############################################

# Generate JWT_SECRET (run in your terminal):
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Generate Database Password:
# openssl rand -base64 20
#
# Generate on Linux/Mac:
# openssl rand -hex 32

############################################
# TESTING YOUR CONFIGURATION
############################################

# Before deploying, verify:

# 1. Database Connection:
#    psql "postgresql://postgres:PASSWORD@teif-postgres:5432/teif_prod" -c "SELECT 1"

# 2. Email Configuration:
#    Test sending email via your SMTP provider's settings

# 3. Backend Health Check:
#    curl https://yourdomain.com/api/health
#    Expected: {"status":"ok","timestamp":"...","environment":"production"}

# 4. Frontend Loading:
#    Open https://yourdomain.com in browser
#    Should load the TEIF application

# 5. API Connection:
#    Check browser console for any CORS or API errors
#    Verify VITE_API_BASE_URL is correctly set

############################################
# DEPLOYMENT CHECKLIST
############################################

# Before going live, ensure:
# [ ] All CHANGE_ME_* values are replaced
# [ ] JWT_SECRET is 32+ random characters
# [ ] DATABASE_URL connects successfully
# [ ] Email provider credentials are correct
# [ ] SITE_URL uses https://
# [ ] CORS_ORIGIN matches frontend domain
# [ ] Health check returns 200 status
# [ ] Frontend loads without errors
# [ ] Authentication flow works end-to-end
# [ ] Email verification sends correctly
# [ ] Database backups are configured
# [ ] SSL certificates are valid
# [ ] Monitoring/logging is configured

############################################
# ADDITIONAL RESOURCES
############################################

# Detailed guide: See COOLIFY_DEPLOYMENT_GUIDE.md
# Environment reference: See ENV_VARIABLES_REFERENCE.md
# Readiness report: See COOLIFY_DEPLOYMENT_READINESS.md

# For Gmail app passwords:
# https://myaccount.google.com/apppasswords

# For SendGrid API keys:
# https://app.sendgrid.com/settings/api_keys

# For AWS SES:
# https://console.aws.amazon.com/ses

# For Google Gemini API:
# https://aistudio.google.com/app/apikey
